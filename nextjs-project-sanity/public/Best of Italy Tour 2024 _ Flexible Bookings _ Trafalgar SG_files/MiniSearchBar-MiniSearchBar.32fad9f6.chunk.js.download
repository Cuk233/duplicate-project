(this.__LOADABLE_LOADED_CHUNKS__=this.__LOADABLE_LOADED_CHUNKS__||[]).push([[78],{1899:function(e,t,n){},224:function(e,t,n){"use strict";var a=n(1);t.a=function(e,t){Object(a.useEffect)((function(){var n=function(n){e.current&&!e.current.contains(n.target)&&t(n)};return setTimeout((function(){document.addEventListener("mousedown",n),document.addEventListener("touchstart",n)}),50),function(){document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}}),[e,t])}},382:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(34),i=n(1),o=n(196),r=n.n(o),c=n(216),u=n(203),l=(n(415),n(5)),d=Object(i.forwardRef)((function(e,t){var n,o=e.placeholder,d=e.className,s=e.value,v=e.dataTestId,m=e.onFocus,f=e.onBlur,h=e.onChange,_=e.dmpgItemName,O=e.dmpgItemType,j=e.textStyles,p=Object(i.useContext)(u.a),b=null===p||void 0===p?void 0:p.brandCode,S=null!==(n=null===j||void 0===j?void 0:j[b])&&void 0!==n?n:null===j||void 0===j?void 0:j.DEFAULT;return Object(l.jsx)("input",{type:"text",placeholder:o,"data-testid":v,className:r()("searchInput",d,Object(a.a)({},"text-".concat(Object(c.n)(S)),S)),value:s,ref:t,onFocus:m,onBlur:f,onChange:h,"data-item-type":O,"data-item-name":_,"aria-label":o})}))},415:function(e,t,n){},449:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));var a=n(34),i=n(379),o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(a,o){if(t){var r=o().history.recentSearches,c=(null===r||void 0===r?void 0:r.length)>=10&&!(null===r||void 0===r?void 0:r.find((function(e){return e.keyword===t})))?(null===r||void 0===r?void 0:r.length)-10+1:0,u=null===r||void 0===r?void 0:r.filter((function(e){return e.keyword!==t})).slice(c).concat({keyword:t,url:e,dates:n});a({type:i.a.UPDATE_SEARCH_HISTORY_RECORDS,payload:u})}}},r=function(e,t){return function(n,o){var r,c=o().history.recentTrips,u=(null===(r=c[t])||void 0===r?void 0:r.length)>0?c[t].filter((function(t){return(null===t||void 0===t?void 0:t.tourOptionId)!==e})).filter((function(e){return(null===e||void 0===e?void 0:e.timestamp)&&Date.now()-(null===e||void 0===e?void 0:e.timestamp)<63072e3})).concat({tourOptionId:e,timestamp:Date.now()}).sort((function(e,t){return(null===t||void 0===t?void 0:t.timestamp)-(null===e||void 0===e?void 0:e.timestamp)})):[{tourOptionId:e,timestamp:Date.now()}];n({type:i.a.UPDATE_RECENT_TRIPS_RECORDS,payload:Object(a.a)({},t,u)})}}},519:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(1),i=function(){var e=Object(a.useRef)(null);return[e,function(){e.current&&e.current.focus()}]}},637:function(e,t,n){"use strict";n.r(t);var a=n(34),i=n(33),o=n(197),r=n(1),c=n(382),u=n(519),l=n(224),d=n(205),s=n(347),v=n(2486),m=n(233),f=n(449),h=n(721),_=n(359),O=n(754),j=n(696),p=(n(1899),n(5));t.default=function(e){var t,n=e.data,b=n.imageIcon,S=n.search,E=n.titleSection,C=Object(v.a)(),D=Object(r.useState)(!1),g=Object(o.a)(D,2),y=g[0],B=g[1],R=Object(r.useState)(""),x=Object(o.a)(R,2),I=x[0],T=x[1],A=Object(r.useRef)(null),N=Object(u.a)(),w=Object(o.a)(N,2),L=w[0],U=w[1];Object(l.a)(A,(function(){return B(!1)}));var H=Object(i.a)(Object(i.a)({},E),{},{alignment:null===E||void 0===E?void 0:E.contentAlignment,color:null===E||void 0===E?void 0:E.textColour});return Object(p.jsxs)("div",{className:"miniSearchBar","data-testid":"miniSearchBar",children:[Object(p.jsx)(h.a,Object(i.a)({},H)),Object(p.jsxs)("div",{className:"miniSearchBar__container",ref:A,onClick:function(){B(!0)},"data-testid":"miniSearchBarContainer",children:[Object(p.jsx)(c.a,{placeholder:null===S||void 0===S?void 0:S.searchBoxPlaceholder,value:I,className:"miniSearchBar__container__input",onChange:function(e){return T(e.target.value)},searchUrl:null===S||void 0===S||null===(t=S.autocompleteDefault)||void 0===t?void 0:t.searchUrl,ref:L,dmpgModuleName:d.a.moduleName.HEADER_SEARCH,dmpgSearchType:d.a.searchType.FREE_TEXT,dataTestId:"miniSearchBarContainerInput"}),I&&Object(p.jsx)(_.a,{className:"miniSearchBar__container__icon miniSearchBar__container__icon--close",name:"ui-close",onClick:function(){U(),T("")},"data-testid":"miniSearchBarContainerInputClose"}),(null===b||void 0===b?void 0:b.icon)?Object(p.jsx)(_.a,{className:"miniSearchBar__container__icon",name:b.icon,onClick:function(){var e,t=null===S||void 0===S||null===(e=S.autocompleteDefault)||void 0===e?void 0:e.searchUrl,n=new URLSearchParams(Object(a.a)({},s.a.filterQueryKeyText,I));C(Object(f.b)("".concat(t,"?").concat(n),I)),Object(m.c)(t,n)},"data-testid":"miniSearchBarContainerInputSearch"}):(null===b||void 0===b?void 0:b.url)&&Object(p.jsx)(O.a,{className:"miniSearchBar__container__image",width:38,height:38,url:b.url,alt:null===b||void 0===b?void 0:b.alt,centerX:null===b||void 0===b?void 0:b.focalPointX,centerY:null===b||void 0===b?void 0:b.focalPointY,"data-testid":"miniSearchBarContainerInputSearchImg"}),y&&Object(p.jsx)(j.default,{defaultSearchData:null===S||void 0===S?void 0:S.autocompleteDefault,setKeyword:T,keyword:I,name:d.a.moduleName.HEADER_SEARCH})]})]})}}}]);