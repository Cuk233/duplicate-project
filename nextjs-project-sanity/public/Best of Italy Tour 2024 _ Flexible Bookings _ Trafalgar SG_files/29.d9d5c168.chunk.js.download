(this.__LOADABLE_LOADED_CHUNKS__=this.__LOADABLE_LOADED_CHUNKS__||[]).push([[29],{230:function(n,t,e){"use strict";e.d(t,"d",(function(){return i})),e.d(t,"c",(function(){return o})),e.d(t,"a",(function(){return d})),e.d(t,"b",(function(){return l})),e.d(t,"e",(function(){return s}));var r=e(209),i=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return u[n]?u[n]:u[1]},o=function(n){return"linear-gradient(0deg, ".concat(Object(r.f)(n,15),", ").concat(Object(r.f)(n,15),"), #FFFFFF")},u={0:"information",1:"success",2:"warning"},a="summer",c="winter",d={seasonChangeSuccess:"seasonChangedToastMessage",tourAddedToCompareToastMessage:"tourAddedToCompareToastMessage",tripVariantToastMessage:"tripVariantToastMessage",departureSelectedToastMessage:"departureSelectedToastMessage",errorToastMessage:"errorToastMessage",brochureAddedToastMessage:"brochureAddedToastMessage",brochureRemovedToastMessage:"brochureRemovedToastMessage"},l=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return n>=4&&n<=9?a:c},s=8},231:function(n,t,e){"use strict";e.d(t,"k",(function(){return u})),e.d(t,"c",(function(){return a})),e.d(t,"j",(function(){return c})),e.d(t,"m",(function(){return d})),e.d(t,"o",(function(){return l})),e.d(t,"g",(function(){return s})),e.d(t,"e",(function(){return f})),e.d(t,"h",(function(){return p})),e.d(t,"f",(function(){return v})),e.d(t,"b",(function(){return T})),e.d(t,"l",(function(){return A})),e.d(t,"d",(function(){return E})),e.d(t,"n",(function(){return b})),e.d(t,"a",(function(){return h})),e.d(t,"i",(function(){return O}));var r=e(208),i=e(33),o=e(200),u=function(n,t){return Object(i.a)(Object(i.a)({},n),{},{startDate:new Date(n.startDate),endDate:new Date(n.endDate),flags:n.flags.map((function(n){var e;return null!==(e=null===t||void 0===t?void 0:t.legend.find((function(t){return n===(null===t||void 0===t?void 0:t.type)})))&&void 0!==e?e:n})),discounts:function(){var t;return(null===n||void 0===n?void 0:n.discounts)&&n.discounts.length>0?null===n||void 0===n||null===(t=n.discounts)||void 0===t?void 0:t.reduce((function(t,e){var r,i,o;return t[e]=null!==(r=null===n||void 0===n||null===(i=n.discountInfo)||void 0===i||null===(o=i.find)||void 0===o?void 0:o.call(i,(function(n){return(null===n||void 0===n?void 0:n.discountType)===e})))&&void 0!==r?r:null,t}),{}):null}(),texts:t.texts,icons:t.icons,tooltips:t.tooltips,groupSize:function(){var e;return null===t||void 0===t||null===(e=t.groupSizes)||void 0===e?void 0:e.find((function(t){return(null===t||void 0===t?void 0:t.name)===(null===n||void 0===n?void 0:n.tourType)}))}()})},a=function(n,t){return n.filter((function(n){return(null===n||void 0===n?void 0:n.subtitle)&&(null===t||void 0===t?void 0:t.includes(n.subtitle))&&n.status!==o.z.CLOSED}))},c=function(n,t){return n.filter((function(n){return n.items})).map((function(n){return Object(i.a)(Object(i.a)({},n),{},{items:Object(r.a)(n.items.map((function(n){return u(n,t)})))})}))},d=function(n){var t=null===n||void 0===n?void 0:n.flat();return null===t||void 0===t?void 0:t.filter((function(n,t,e){var r;return e.map((function(n){var t;return null===n||void 0===n||null===(t=n.startDate)||void 0===t?void 0:t.toString()})).indexOf(null===n||void 0===n||null===(r=n.startDate)||void 0===r?void 0:r.toString())===t})).filter(Boolean)},l={LOAD_MORE:"LOAD MORE",NO_TRIPS_AVAILABLE:"There are no trips Available"},s=function(n,t){var e;return null===n||void 0===n||null===(e=n.pricing)||void 0===e?void 0:e.find((function(n){return n.roomType===t}))},f=function(n){var t;return!!(null===n||void 0===n||null===(t=n.pricing)||void 0===t?void 0:t.find((function(n){return!0===(null===n||void 0===n?void 0:n.bestPrice)})))},p=function(n,t){return void 0!==n&&n>=0?n:t},v=function(n,t){var e=["departure","return","definite","groupSize"].concat(t?["twinRoom","soloUpgrade"]:["offer","price"]),r=Object.keys(n||{}).reduce((function(n,t){return e.includes(t)?n+1:n}),0);return r?{flexBasis:"".concat(Math.floor(1/r*1e4)/100,"%")}:{}},T=["LG","BVL"],A=["AA","IJ"],E=function(n,t,e,r){var i=function(n,t){return"next"===r?n>t:n<t};return null===e||void 0===e?void 0:e.filter((function(e){return e.isAnyTripAvailable&&n&&(e.year===n?i(e.id,t):i(e.year,n))}))},b=function(n,t){var e,r,i;(null===n||void 0===n||null===(e=n.current)||void 0===e?void 0:e.offsetTop)&&(null===(r=window)||void 0===r||r.scrollTo({top:(null===n||void 0===n||null===(i=n.current)||void 0===i?void 0:i.offsetTop)-t,behavior:"smooth"}))},h=function(n){var t,e,r=n.settings,i=n.initialApiUrl,o=n.checkboxList,u=n.tourOptionId,a=i;r&&o&&(null===(t=r.tripVariationsMultiselect)||void 0===t?void 0:t.enableMultiselect)?null===(e=r.tripVariationsMultiselect.options)||void 0===e||e.forEach((function(n){o&&n.label&&o[n.label]&&(a+="&tourOptionIds=".concat(n.optionId))})):a+="&tourOptionIds=".concat(u);return a},O=function(n){return{DEFAULT:{pretitle:"pretitleM"},AA:{pretitle:n?"pretitleS":"pretitleM"}}}},236:function(n,t,e){"use strict";var r=e(197),i=e(1);t.a=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(i.useState)(n),e=Object(r.a)(t,2),o=e[0],u=e[1],a=function(){u((function(n){return!n}))},c=function(){return u(!0)},d=function(){return u(!1)};return{isModalOpen:o,toggleModal:a,setIsModalOpen:u,openModal:c,closeModal:d}}},240:function(n,t,e){"use strict";e.d(t,"b",(function(){return u})),e.d(t,"a",(function(){return a})),e.d(t,"c",(function(){return c}));var r=e(254),i=e(18),o=e(396),u=function(n){return function(t){return t({type:o.a.OPEN_T0AST_MESSAGE,payload:{id:Object(r.a)(),name:n,dismissed:!1}})}},a=function(n){return function(t){t({type:o.a.CLOSE_TOAST_MESSAGE,payload:{id:n}}),i.a&&window.setTimeout((function(){return t({type:o.a.REMOVE_TOAST_MESSAGE,payload:{id:n}})}),400)}},c=function(n){return function(t){t({type:o.a.REMOVE_TOAST_MESSAGE,payload:{id:n}})}}},276:function(n,t,e){"use strict";var r;e.d(t,"a",(function(){return r})),function(n){n[n.AccordionWithHotelsAndHighlights=0]="AccordionWithHotelsAndHighlights",n[n.CardWithLocations=1]="CardWithLocations",n[n.AccordionWithThumbnails=2]="AccordionWithThumbnails"}(r||(r={}))},277:function(n,t,e){"use strict";var r,i;e.d(t,"b",(function(){return r})),e.d(t,"a",(function(){return i})),function(n){n.ITINERARY="itinerary",n.DATES_AND_PRICES="datesprices",n.HIGHLIGHTS="highlights",n.REVIEWS="reviews"}(r||(r={})),function(n){n.DATE_N_PRICING="DateNPricing",n.DATE_N_PRICING_CH="DateNPricingContiki",n.MAP_ITINERARY="MapItinerary",n.TRIP_VARIATIONS="TripVariations"}(i||(i={}))},348:function(n,t,e){"use strict";var r;e.d(t,"b",(function(){return r})),function(n){n.CALENDAR="CALENDAR",n.LIST="LIST"}(r||(r={})),t.a=r},350:function(n,t,e){"use strict";e.d(t,"a",(function(){return i})),e.d(t,"d",(function(){return o})),e.d(t,"b",(function(){return u})),e.d(t,"c",(function(){return a}));var r=e(33),i=function(n){var t,e,i=[];return null===n||void 0===n||null===(t=n.yearAndMonthSelector)||void 0===t||null===(e=t.yearsAndMonthList)||void 0===e||e.forEach((function(n){var t;return null===n||void 0===n||null===(t=n.months)||void 0===t?void 0:t.forEach((function(t){return null===i||void 0===i?void 0:i.push(Object(r.a)(Object(r.a)({},t),{},{year:n.year}))}))})),i.forEach((function(n,t){0!==t&&(i[t-1].nextMonthName=n.name,i[t-1].nextMonthYearName=n.year),t===(null===i||void 0===i?void 0:i.length)-1&&(i[t].nextMonthName=i[0].name,i[t].nextMonthYearName=n.year+1)})),i},o=function(n,t){return n.find((function(n){var e=new Date(t);return n.id===e.getUTCMonth()+1&&n.year===e.getUTCFullYear()}))},u=function(n,t){return n.find((function(n){return n.year===t&&n.isAnyTripAvailable}))},a=function(n,t,e){return n.find((function(n){return n.year===t&&n.id===e}))}},495:function(n,t,e){"use strict";e.d(t,"a",(function(){return D})),e.d(t,"b",(function(){return N}));var r=e(33),i=e(210),o=e.n(i),u=e(211),a=e(197),c=e(1),d=e.n(c),l=e(2),s=e(217),f=e.n(s),p=e(203),v=e(18),T=e(2486),A=e(276),E=e(970),b=e(236),h=e(938),O=e(350),_=e(277),y=e(207),S=e(2431),M=e(496),I=e(5),g=e.n(I),m=Object(l.default)({resolved:{},chunkName:function(){return"tourPage-TripHeader-HeaderModal-HeaderModal"},isReady:function(n){var t=this.resolve(n);return!0===this.resolved[t]&&!!e.m[t]},importAsync:function(){return e.e(293).then(e.bind(null,467))},requireAsync:function(n){var t=this,e=this.resolve(n);return this.resolved[e]=!1,this.importAsync(n).then((function(n){return t.resolved[e]=!0,n}))},requireSync:function n(t){var r=this.resolve(t);return e(r)},resolve:function n(){return 467}}),D=Object(c.createContext)(null),N=function(n){var t=n.children,e=n.percentageDiscountVisible,i=n.tripVariationsData,d=n.componentStyle,l=n.yearMonthDataApiUrl,s=n.tripTitle,g=n.tripSubtitle,N=n.price,R=n.selectedTripVariationText,L=n.countryCodes,j=n.map,C=n.rating,P=n.priceOldLabel,x=n.priceOldVisible,V=n.priceVisible,U=n.hideStrikethroughForWasPrice,w=n.tabsApiUrl,H=n.lowestPriceInfo,k=n.selectedDepartureBannerProps,F=n.toastMessages,G=Object(b.a)(),B=G.isModalOpen,W=G.toggleModal,Y=Object(c.useContext)(p.a),z=null===Y||void 0===Y?void 0:Y.brandCode,K=Object(c.useState)(void 0),q=Object(a.a)(K,2),J=q[0],X=q[1],Q=Object(T.a)(),Z=!(null===i||void 0===i?void 0:i.disableModal)&&(null===i||void 0===i?void 0:i.variantsExist),$=null===i||void 0===i?void 0:i.openModalUrlText,nn=null===i||void 0===i?void 0:i.inlineVariationTitleAndModalLink,tn={DEFAULT:d===A.a.AccordionWithThumbnails?M.a.simpleArrow:M.a.thinArrow,BV:M.a.simpleArrow,AA:M.a.simpleArrow,IJ:M.a.simpleArrow},en={DEFAULT:_.a.DATE_N_PRICING,CH:_.a.DATE_N_PRICING_CH},rn=Object(y.a)(tn,z),on=Object(y.a)(en,z);Object(c.useEffect)((function(){(null===i||void 0===i?void 0:i.tripVariationsEndpointUrl)&&Q(Object(E.a)(i.tripVariationsEndpointUrl))}),[null===i||void 0===i?void 0:i.tripVariationsEndpointUrl,Q]),Object(c.useEffect)((function(){function n(){return(n=Object(u.a)(o.a.mark((function n(){var t,e,r,i,u,a,c,d,l;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i="".concat(w,"datesprices"),n.next=4,f.a.get(i);case 4:u=n.sent,a=u.data,void 0===(c=null===a||void 0===a||null===(t=a.find((function(n){return n.blockType===on})))||void 0===t?void 0:t.settings)&&(c=null===a||void 0===a||null===(d=a.find((function(n){return n.blockType===_.a.DATE_N_PRICING})))||void 0===d?void 0:d.settings),X(c),l=Object(O.a)(c),!(null===k||void 0===k?void 0:k.isSelectedDepartureBannerActive)&&(null===(e=c)||void 0===e||null===(r=e.tripVariationsMultiselect)||void 0===r?void 0:r.enableMultiselect)||Q(Object(h.m)(l)),Q(Object(h.h)(!0)),n.next=19;break;case 14:n.prev=14,n.t0=n.catch(0),X(void 0),Q(Object(h.m)([])),console.log(n.t0);case 19:case"end":return n.stop()}}),n,null,[[0,14]])})))).apply(this,arguments)}w&&function(){n.apply(this,arguments)}()}),[Q,w]);var un=Object(r.a)(Object(r.a)({},i),{},{toggleVariantsModal:W,percentageDiscountVisible:e,countryCodes:L,yearMonthDataApiUrl:l});return Object(I.jsx)(D.Provider,{value:{displayModal:Z,openModalUrlText:$,buttonArrowIcon:rn,inlineVariationTitleAndModalLink:nn,toggleVariantsModal:W,tripVariationIcon:null===i||void 0===i?void 0:i.tripVariationIcon,tripTitle:s,tripSubtitle:g,price:N,selectedTripVariationText:R,map:j,rating:C,priceOldLabel:P,priceOldVisible:x,priceVisible:V,hideStrikethroughForWasPrice:U,tabsApiUrl:w,dateNPricingSettings:J,yearMonthDataApiUrl:l,lowestPriceInfo:H,selectedDepartureBannerProps:k,toastMessages:F},children:Object(I.jsxs)(I.Fragment,{children:[t,v.a&&Object(I.jsx)(S.a,{visible:B,onClose:W,title:null===i||void 0===i?void 0:i.modalTopBarTitle,fullscreen:!0,className:"header-modal",withPortal:!0,children:Object(I.jsx)(m,Object(r.a)({},un))})]})})}},496:function(n,t,e){"use strict";var r;e.d(t,"a",(function(){return r})),function(n){n.simpleArrow="arrow",n.thinArrow="thin-arrow-left"}(r||(r={}))},719:function(n,t,e){"use strict";e.d(t,"a",(function(){return c})),e.d(t,"b",(function(){return d}));var r,i,o,u,a=e(34);!function(n){n[n.H3=1]="H3",n[n.H2=2]="H2",n[n.None=3]="None"}(r||(r={})),function(n){n[n.H2=1]="H2",n[n.None=2]="None"}(i||(i={}));var c=(o={},Object(a.a)(o,r.None,void 0),Object(a.a)(o,r.H2,"h2"),Object(a.a)(o,r.H3,"h3"),o),d=(u={},Object(a.a)(u,i.None,void 0),Object(a.a)(u,i.H2,"h2"),u)},938:function(n,t,e){"use strict";e.d(t,"c",(function(){return p})),e.d(t,"a",(function(){return v})),e.d(t,"j",(function(){return T})),e.d(t,"f",(function(){return A})),e.d(t,"i",(function(){return E})),e.d(t,"m",(function(){return b})),e.d(t,"d",(function(){return h})),e.d(t,"e",(function(){return O})),e.d(t,"b",(function(){return _})),e.d(t,"k",(function(){return y})),e.d(t,"l",(function(){return S})),e.d(t,"h",(function(){return M})),e.d(t,"g",(function(){return I})),e.d(t,"p",(function(){return g})),e.d(t,"n",(function(){return m})),e.d(t,"o",(function(){return D}));var r=e(210),i=e.n(r),o=e(211),u=e(217),a=e.n(u),c=e(231),d=e(348),l=e(230),s=e(240),f=e(580),p=function(n,t,e,r,u,p){return function(){var v=Object(o.a)(i.a.mark((function o(v){var T,A,E,b,h,O,_;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return T=(null===r||void 0===r?void 0:r.manualLoadMoreDerpartures)&&u===d.b.LIST,i.prev=1,v({type:f.a.UPDATE_MONTH_REQUEST}),i.next=5,a.a.get(n);case 5:if(E=i.sent,b=E.data,h=T?b.results:b,Array.isArray(h)){i.next=12;break}throw v({type:f.a.UPDATE_MONTH_FAILURE}),Object(s.b)(l.a.errorToastMessage)(v),Error("Update Month Failed");case 12:O=Object(c.j)(h,r),_={index:t,items:O,manualLoadMoreUrl:T?null!==(A=b.next)&&void 0!==A?A:null:void 0},v(p&&T?{type:f.a.MANUAL_LOAD_MORE_SUCCESS,payload:_}:{type:f.a.UPDATE_MONTH_SUCCESS,payload:_}),p||v({type:f.a.SELECT_MONTH,payload:{index:t}}),T||v({type:f.a.SET_LIST_ITEMS,payload:{currentMonthIndex:e,index:t}}),i.next=24;break;case 19:i.prev=19,i.t0=i.catch(1),console.error(i.t0),Object(s.b)(l.a.errorToastMessage)(v),v({type:f.a.UPDATE_MONTH_FAILURE});case 24:case"end":return i.stop()}}),o,null,[[1,19]])})));return function(n){return v.apply(this,arguments)}}()},v=function(){return function(n){n({type:f.a.CLEAR_CACHED_ITEMS})}},T=function(n,t){return function(e){e({type:f.a.SET_LIST_ITEMS,payload:{currentMonthIndex:n,index:t}})}},A=function(n){return function(t){t({type:f.a.SELECT_MONTH,payload:{index:n}})}},E=function(n,t){return function(e){e({type:f.a.SET_ITEMS,payload:{monthId:n,items:t}})}},b=function(n){return function(t){t({type:f.a.SET_MONTHS,payload:{months:n}})}},h=function(n){return function(t){t({type:f.a.SELECT_DEPARTURE,payload:{departure:n}})}},O=function(n){return function(t){t({type:f.a.SELECT_ITEM,payload:{item:n}})}},_=function(){return function(n){n({type:f.a.CLEAR_DEPARTURE_DATA})}},y=function(n){return function(t){t({type:f.a.SET_LOWEST_PRICE_ITEM_ID,payload:{lowestPriceItemId:n}})}},S=function(n){return function(t){t({type:f.a.SET_LOWEST_PRICE_SCROLL,payload:{lowestPriceScroll:n}})}},M=function(n){return function(t){t({type:f.a.SET_DATE_AND_PRICING_LOADED,payload:{dateAndPricingLoaded:n}})}},I=function(n){return function(t){t({type:f.a.SET_VARIANT_ROWS,payload:{variantRows:n}})}},g=function(n){return function(t){t({type:f.a.SET_TRIP_VARIATIONS_CHECKBOX_LIST,payload:{tripVariationsCheckboxList:n}})}},m=function(n){return function(t){t({type:f.a.SELECT_DEPARTURE_BANNER_MONTH_INDEX,payload:{index:n}})}},D=function(n){return function(t){t({type:f.a.SET_DEPARTURE_BANNER_VISIBLITY,payload:{visible:n}})}}},970:function(n,t,e){"use strict";e.d(t,"b",(function(){return s})),e.d(t,"a",(function(){return f}));var r=e(210),i=e.n(r),o=e(211),u=e(217),a=e.n(u),c=e(230),d=e(240),l=e(585),s=function(n){return function(t){t({type:l.a.SET_TRIP_VARIATIONS,payload:{tripVariations:n}})}},f=function(n){return function(){var t=Object(o.a)(i.a.mark((function t(e){var r,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:l.a.GET_TRIP_VARIATIONS_LOADING}),t.prev=1,t.next=4,a.a.get(n);case 4:r=t.sent,o=r.data,e({type:l.a.SET_TRIP_VARIATIONS,payload:{tripVariations:o}}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),Object(d.b)(c.a.errorToastMessage)(e),e({type:l.a.GET_TRIP_VARIATIONS_FAILURE});case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(n){return t.apply(this,arguments)}}()}}}]);