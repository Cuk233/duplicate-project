(this.__LOADABLE_LOADED_CHUNKS__=this.__LOADABLE_LOADED_CHUNKS__||[]).push([[56],{1779:function(e,t,i){},1780:function(e,t,i){},1781:function(e,t,i){},1782:function(e,t,i){},683:function(e,t,i){"use strict";i.r(t);var a=i(33),n=i(1),l=i.n(n),o=i(197),c=i(205),s=i(202),d=i(18),r=i(319),u=(i(1780),i(5)),v=function(e){var t,i=e.faqs,a=e.textColour,l=Object(n.useState)(-1),v=Object(o.a)(l,2),f=v[0],j=v[1],m=Object(n.useMemo)((function(){return[]}),[]),b=d.a&&(null===(t=document)||void 0===t?void 0:t.getElementById("tripHeader"))?205:0,x=Object(n.useCallback)((function(){j(null===m||void 0===m?void 0:m.findIndex((function(e){var t;return b-1<=(null===e||void 0===e||null===(t=e.getBoundingClientRect())||void 0===t?void 0:t.bottom)-.5*window.outerHeight})))}),[m,b]);return Object(n.useEffect)((function(){return function(e,t){e&&e.forEach((function(e){var i=e.title,a=i?document.getElementById(i):null;a&&t.push(a)}))}(i,m),document.addEventListener("scroll",(function(){return x()})),function(){return document.removeEventListener("scroll",(function(){return x()}))}}),[i,x,m]),(null===i||void 0===i?void 0:i.length)?Object(u.jsx)("div",{className:"faq-anchor",children:i.map((function(e,t){var i=t===f;return Object(u.jsx)("div",{className:"faq-anchor__wrapper".concat(i?"--active":""),onClick:function(){return d.a&&e.title&&Object(s.p)(e.title,b)},"data-item-type":c.a.itemType.GENERAL_INTERACTION,"data-item-name":c.a.itemName.FAQ_SECTION,style:i&&a?{borderColor:a}:void 0,children:Object(u.jsx)(r.a,{isA:"labelL",text:e.title,className:"faq-anchor__item",style:a?{color:a}:void 0})},t)}))}):null},f=i(196),j=i.n(f),m=i(719),b=i(588),x=i(332),O=i(203),p=i(359),h={description:{DEFAULT:"default",AA:"paragraphS",AW:"paragraphM",BV:"paragraphM",IJ:"paragraphS"},title:{DEFAULT:"labelL",AW:"labelEl"}},_=function(e){var t=e.id,i=e.toggleItem,a=e.item,n=e.textColour,l=e.setRef,o=e.titleTag;return Object(u.jsxs)("div",{ref:l,"data-testid":"faq-accordion-item",className:j()("faq-accordion__item",{"faq-accordion__item--active":a.isActive}),children:[Object(u.jsxs)("div",{onClick:function(){return i(t)},className:j()("faq-accordion__title",{"faq-accordion__title--active":a.isActive}),"data-item-type":c.a.itemType.GENERAL_INTERACTION,"data-item-name":c.a.itemName.FAQ_QUESTION,children:[Object(u.jsx)(r.a,{className:"faq-accordion__title-text",textStyles:h.title,text:a.title,style:n?{color:n}:void 0,tagName:o}),Object(u.jsx)(p.a,{className:"faq-accordion__arrow",name:a.isActive?"ui-minus":"add"})]}),Object(u.jsx)(r.a,{className:j()("faq-accordion__desc",{"faq-accordion__desc--active":a.isActive}),text:null===a||void 0===a?void 0:a.desc,isRichText:!0,textStyles:h.description,style:n?{color:n}:void 0})]})},q=(i(1782),function(e){var t,i=e.items,c=e.firstItemCollapsed,s=e.textColour,v=e.isLast,f=e.expandAll,m=e.itemsTitleTag,p=e.faqIndex,h=e.sectionIndex,q=void 0===h?0:h,g=Object(n.useState)(null!==(t=null===i||void 0===i?void 0:i.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{isActive:!1})})))&&void 0!==t?t:[]),A=Object(o.a)(g,2),N=A[0],T=A[1],C=Object(n.useContext)(O.a),E=N.map((function(){return l.a.createRef()}));Object(n.useEffect)((function(){i&&T(i.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{isActive:Boolean(f)})})))}),[f,i]),Object(n.useEffect)((function(){T(i?i.map((function(e,t){return Object(a.a)(Object(a.a)({},e),{},{isActive:0===t&&!c})})):[])}),[c,i]);var y=function(e){if(T((function(t){return t.map((function(t,i){return i===e?Object(a.a)(Object(a.a)({},t),{},{isActive:!t.isActive}):t}))})),E&&E[e]&&!N[e].isActive&&d.a){var t,i,n,l,o=null===(t=document.getElementById("sticky-trip-header"))||void 0===t?void 0:t.offsetHeight,c=(null===(i=document.getElementsByClassName("faq-accordion__title")[0])||void 0===i?void 0:i.offsetHeight)+5,s=null===(n=document.getElementById("anchor-tabs"))||void 0===n?void 0:n.offsetHeight,r=null!==(l=o||s||c)&&void 0!==l?l:0;Object(x.c)({duration:null===C||void 0===C?void 0:C.scrollSpeed,offset:-r,elementName:"faq-".concat(p,"-").concat(q,"-").concat(e),callback:function(){return Object(x.d)(E[e],r)}})}};return(null===i||void 0===i?void 0:i.length)?Object(u.jsx)("div",{"data-testid":"faq-accordion",className:j()("faq-accordion",{"faq-accordion--last":v}),children:N.map((function(e,t){return Object(u.jsx)(b.Element,{name:"faq-".concat(p,"-").concat(q,"-").concat(t),children:Object(u.jsx)(_,{id:t,setRef:E&&E[t],toggleItem:y,item:e,textColour:s,titleTag:m},t)},t)}))}):Object(u.jsx)(r.a,{dataTestId:"faq-accordion-no-criteria",text:"No items matching the criteria",style:s?{color:s}:void 0})}),g=i(216),A=i(495),N=i(721),T=i(587),C=(i(1781),function(e){var t,i=e.expandAll,a=e.textColour,l=e.updateAllFaqs,o=e.faq,c=e.filterFaq,s=e.inputValue,d=e.inputRef,r=Object(n.useContext)(A.a),v=a?{color:a}:void 0,f=o.applyTagForTitle?m.b[o.applyTagForTitle]:void 0;return Object(u.jsxs)("div",{className:"faq-header",children:[Object(u.jsx)("div",{children:Object(u.jsx)(N.a,{alignment:null===o||void 0===o?void 0:o.titleAlignment,textTypes:{pretitle:Object(g.g)("pretitle",null===o||void 0===o?void 0:o.pretitleTextSize),title:"".concat(null!==(t=Object(g.g)("title",null===o||void 0===o?void 0:o.titleTextSize))&&void 0!==t?t:"titleL")},h1TagTextElement:null===o||void 0===o?void 0:o.h1TagTextElement,title:null===o||void 0===o?void 0:o.title,titleFontType:null===o||void 0===o?void 0:o.titleFontType,titleTagName:f,pretitle:null===o||void 0===o?void 0:o.pretitle,color:a,className:"faq__label",style:v})}),Object(u.jsxs)("div",{className:"faq__controls",children:[!(null===o||void 0===o?void 0:o.hideSearchBar)&&Object(u.jsxs)("div",{className:"faq__search",children:[Object(u.jsx)("input",{ref:d,value:s,className:"faq__input",placeholder:null===o||void 0===o?void 0:o.searchLabel,"aria-label":"faq-input",type:"text",onChange:c}),Object(u.jsx)(p.a,{className:"faq__icon",name:"UI-Search-faq"})]}),Object(u.jsx)(T.a,{className:"btn-text--alternate",text:i?null===o||void 0===o?void 0:o.collapseAllQuestionsLabel:null===o||void 0===o?void 0:o.expandAllQuestionsLabel,iconName:null===r||void 0===r?void 0:r.buttonArrowIcon,iconRotation:i?90:-90,iconPosition:1,type:0,onClick:function(){return l(!i)},isA:"linkM"})]})]})}),E=function(e){var t=e.allFaqs,i=e.faq,a=e.textColour,l=e.isLast,c=e.faqIndex,s=e.sectionIndex,d=Object(n.useState)(""),v=Object(o.a)(d,2),f=v[0],b=v[1],x=Object(n.useRef)(null),O=Object(n.useState)(!1),p=Object(o.a)(O,2),h=p[0],_=p[1],g=Object(n.useState)(i.items||[]),A=Object(o.a)(g,2),N=A[0],T=A[1],E=a?{color:a}:void 0,y=(null===i||void 0===i?void 0:i.applyTagForItems)?m.a[i.applyTagForItems]:void 0,I=Object(n.useCallback)((function(){var e,a;b((null===x||void 0===x||null===(e=x.current)||void 0===e?void 0:e.value)||"");var n=new RegExp(f,"i"),l=t?null===(a=Object.values(null===t||void 0===t?void 0:t.map((function(e){return null===e||void 0===e?void 0:e.items}))))||void 0===a?void 0:a.flat():[],o=(null===i||void 0===i?void 0:i.globalSearching)?l:null===i||void 0===i?void 0:i.items,c=null===o||void 0===o?void 0:o.filter((function(e){var t,i;return(null===e||void 0===e||null===(t=e.title)||void 0===t?void 0:t.match(n))||(null===e||void 0===e||null===(i=e.desc)||void 0===i?void 0:i.match(n))}));c&&T(c)}),[i.items,f,t,null===i||void 0===i?void 0:i.globalSearching]);return Object(n.useEffect)(I,[I,f]),Object(u.jsxs)("div",{id:null===i||void 0===i?void 0:i.title,children:[Object(u.jsx)(C,{faq:i,textColour:a,filterFaq:I,expandAll:h,updateAllFaqs:function(e){_(e)},inputRef:x,inputValue:f}),Object(u.jsxs)("div",{className:j()("faq__search-info",{"faq__search-info--active":f}),children:[Object(u.jsx)(r.a,{text:'Your search for "'.concat(f,'"'),isA:"titleS",style:E}),Object(u.jsx)(r.a,{isA:"linkS",text:"clear search",onClick:function(){b("")},className:"faq__clear",style:E})]}),Object(u.jsx)(q,{items:N,firstItemCollapsed:null===i||void 0===i?void 0:i.firstItemCollapsed,textColour:a,isLast:l,expandAll:h,itemsTitleTag:y,faqIndex:c,sectionIndex:s})]})};i(1779),t.default=function(e){var t=e.data,i=t.hideAnchor,n=t.faqs,l=t.index,o=t.backgroundColour,c=t.textColour,s=t.questionBackgroundColour;return Object(u.jsxs)("div",{className:"faq",style:Object(a.a)(Object(a.a)({},o&&{background:o}),{},{"--question-background-colour":s}),children:[!i&&n&&Object(u.jsx)("div",{className:"faq__anchor",children:Object(u.jsx)(v,{faqs:n,textColour:c})}),Object(u.jsx)("div",{className:"faq__wrapper",children:null===n||void 0===n?void 0:n.map((function(e,t){return Object(u.jsx)("div",{className:"faq_content",children:Object(u.jsx)(E,{faqIndex:l,allFaqs:n,faq:e,sectionIndex:t,isLast:t===n.length-1,textColour:c})},e.title)}))})]})}}}]);