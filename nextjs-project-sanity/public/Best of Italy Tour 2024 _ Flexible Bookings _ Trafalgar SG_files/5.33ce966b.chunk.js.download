(this.__LOADABLE_LOADED_CHUNKS__=this.__LOADABLE_LOADED_CHUNKS__||[]).push([[5],{1032:function(e,t,n){},1637:function(e,t,n){},274:function(e,t,n){"use strict";var o=n(33),c=n(197),i=n(1),r=n(196),a=n.n(r),l=n(2487),u=n(809),d=n(2486),s=n(384),v=n(205),f=n(34),m=n(202),b=n(200),O=function(e){var t=e.targetForm,n=e.requestType,c=e.formEventData,r=null===t||void 0===t?void 0:t.querySelector('button[type="submit"]'),a=function(e){var t,n=""===(null===(t=e.value)||void 0===t?void 0:t.trim()),o="email"===e.type,c="The ".concat(Object(m.c)(e.name)," is required");return n?c:o?"The Email Address field must be a valid email.":c},l=Object(i.useCallback)((function(){var e=[],i=null===t||void 0===t?void 0:t.querySelectorAll('[required="required"], [required]');i&&i.forEach((function(t){if(!t.checkValidity()||"email"===t.type&&(i=t.value,!b.k.test(i))){var o,c={id:"".concat(n,"-").concat(t.id),name:null!==(o=t.getAttribute("name"))&&void 0!==o?o:"",error:{type:"invalid data",message:a(t)}};e.push(c)}var i}));var r=Object.values(e.reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),{},Object(f.a)({},t.id,t))}),{}));r.length&&Object(v.m)({event:v.a.event.FORM_LOAD_SUBMIT_FAILURE,form:Object(o.a)(Object(o.a)({},c),{},{name:n,error:{type:"submission",message:"Form Validation Error"},fields:r})})}),[c,n,t]);return Object(i.useEffect)((function(){var e=function(){return l()};return null===r||void 0===r||r.addEventListener("click",e),function(){null===r||void 0===r||r.removeEventListener("click",e)}}),[n,r,l,t]),l},j=n(280),w=n(255),p=(n(1032),n(5));t.a=function(e){var t=e.requestType,n=e.tourId,r=e.optionId,f=e.tripName,m=e.postRefreshHandler,b=e.successHandler,E=e.errorHandler,y=e.onSubmit,_=e.dataLcwAsync,h=e.formEventData,L=e.data,S=e.campaignName,g=e.competitionPartner,q=e.competitionEndDate,A=e.maxReferralsAmount,x=e.referralType,M=e.tourType,T=Object(d.a)(),N=Object(d.b)((function(e){var t,n;return null!==(t=null===(n=e.LCW)||void 0===n?void 0:n.config)&&void 0!==t?t:{}})),R=N.siteKey,F=N.brandName,C=N.region,I=N.user,D=N.sellingCompanyCode,U=N.showLCWFlags,B=N.visitorCountryCode,k=Object(d.b)((function(e){return e.LCW})),H=k.formFields,W=k.requestType,K=Object(i.useRef)(null),V=Object(i.useState)(!1),G=Object(c.a)(V,2),P=G[0],Y=G[1],z=O({targetForm:K.current,requestType:t,formEventData:h});Object(i.useEffect)((function(){var e,t,n;(null===(e=window)||void 0===e?void 0:e.lcw)&&(null===(t=window)||void 0===t||null===(n=t.lcw)||void 0===n||n.refresh())}),[]);var X=function(e){var t;null===y||void 0===y||y(e);var n=(null===e||void 0===e||null===(t=e.querySelector('[id="'.concat(j.a.EMAIL,'"]')))||void 0===t?void 0:t.value)||"";n&&T(Object(l.g)([{id:v.a.itemName.EMAIL,value:n}]))};return Object(i.useEffect)((function(){var e;(null===h||void 0===h?void 0:h.name)&&T(Object(l.h)(h.name));var n=function(e){var n,c,i=null!==(n=null!==(c=null===x||void 0===x?void 0:x.current)&&void 0!==c?c:W)&&void 0!==n?n:Object(v.f)(t,L);e===v.a.event.FORM_SUBMIT_SUCCESS&&H?(Object(v.m)({event:e,form:Object(o.a)(Object(o.a)({name:i},h),{},{subcategory:M,fields:H})}),T(Object(l.b)())):e!==v.a.event.FORM_SUBMIT_FAILURE&&Object(v.m)({event:e,form:Object(o.a)({name:i,subcategory:M},h)})},c=function(e){I&&(Object(w.x)(j.a.AGENCY_NAME,I.agencyName,e),Object(w.x)(j.a.FIRST_NAME,I.firstName,e),Object(w.x)(j.a.LAST_NAME,I.lastName,e),Object(w.x)(j.a.EMAIL,I.email,e))},i=K.current;if(i){var r=function(e){return e.target===i};if(!P){var a,d=function(e){var o;r(e)&&(null===m||void 0===m||m(i),c(i),null===i||void 0===i||null===(o=i.querySelector("button[type=submit]"))||void 0===o||o.addEventListener("click",(function(){X(i),n(v.a.event.FORM_SUBMIT),Object(u.a)("".concat(t,"-form-submit"))})),n(v.a.event.FORM_LOADED),Object(u.a)("".concat(t,"-form-load")),Y(!0))},f=null===(a=document)||void 0===a?void 0:a.querySelectorAll('[data-lcw-request="'.concat(t,'"]'));return f.forEach((function(e){null===e||void 0===e||e.addEventListener("postRefresh",d)})),function(){f.forEach((function(e){null===e||void 0===e||e.removeEventListener("postRefresh",d)}))}}c(i);var O=function(e){var o;r(e)&&(null===m||void 0===m||m(i),c(i),null===i||void 0===i||null===(o=i.querySelector("button[type=submit]"))||void 0===o||o.addEventListener("click",(function(){!P&&z(),X(i),n(v.a.event.FORM_SUBMIT),Object(u.a)("".concat(t,"-form-submit"))})))},p=function(e){r(e)&&(n(v.a.event.FORM_SUBMIT_SUCCESS),null===b||void 0===b||b(),Object(u.a)("".concat(t,"-form-success")),_())},y=function(e){r(e)&&(null===E||void 0===E||E(),n(v.a.event.FORM_SUBMIT_FAILURE),Object(u.a)("".concat(t,"-form-failure")))},_=function(){var e=document.querySelector(".lcw-".concat(t,"__success"));e&&Object(s.b)(e,180)},S=null===(e=document)||void 0===e?void 0:e.querySelector('[data-lcw-request="'.concat(t,'"]'));null===S||void 0===S||S.addEventListener("postRefresh",O),null===S||void 0===S||S.addEventListener("success",p),null===S||void 0===S||S.addEventListener("failed",y);var g=document.querySelectorAll('[required="required"], [required]');return g.forEach((function(e){e.addEventListener("invalid",(function(){var t=document.querySelector('[name="'.concat(null===e||void 0===e?void 0:e.name,'"]'));Object(s.a)(t)||Object(w.u)()}))})),function(){var e,n=null===(e=document)||void 0===e?void 0:e.querySelector('[data-lcw-request="'.concat(t,'"]')),o=null===i||void 0===i?void 0:i.querySelector("button[type=submit]");null===n||void 0===n||n.removeEventListener("postRefresh",O),null===n||void 0===n||n.removeEventListener("success",p),null===n||void 0===n||n.removeEventListener("failed",y),null===o||void 0===o||o.removeEventListener("click",z),g.forEach((function(e){e.removeEventListener("invalid",w.u)}))}}}),[P,m,b,E,h,t,I]),Object(p.jsx)("div",{className:a()("lcw-form",{lcwFormFlag:U,"extended-flag-padding":U}),"data-testid":"lcw-form-box","data-lcw-request":t,"data-lcw-sitekey":R,"data-lcw-brand":F,"data-lcw-region":C,"data-lcw-selling-company-code":D,"data-lcw-tour-code":n,"data-lcw-tour-option":r,"data-lcw-trip-name":f,"data-lcw-async":_,"data-exclude-countries":U?w.f:void 0,"data-lcw-country":B,"data-lcw-campaign-field":S,"data-lcw-competition-partner":g,"data-lcw-competition-end-date":q,"data-max-referral-number":A,ref:K})}},275:function(e,t,n){"use strict";n(1);var o=n(2487),c=n(2486),i=n(973),r=n(319),a=n(587),l={LG:"pretitleM",BVL:"pretitleM",DEFAULT:"buttonM"},u=(n(1637),n(5));t.a=function(e){var t=e.className,n=void 0===t?"":t,d=e.responseTitle,s=e.responseFooter,v=e.responseSubTitle,f=e.responseDescription,m=e.modalCloseButtonLabel,b=e.showCloseButton,O=void 0===b||b,j=Object(c.a)();return Object(u.jsxs)("div",{className:"lcw-success ".concat(n),children:[Object(u.jsx)(i.a,{className:"lcw-success__title",iconName:"UI-tick-filled",isA:"text",textType:"commL",text:d}),Object(u.jsx)(r.a,{isA:"surtitleM",text:v,className:"lcw-success__subtitle"}),Object(u.jsx)(r.a,{isRichText:!0,text:f,className:"lcw-success__description"}),Object(u.jsx)(r.a,{isRichText:!0,text:s,className:"lcw-success__footer"}),O&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"lcw-success__horizontal-line"}),Object(u.jsx)(a.a,{className:"lcw-success__close-button",text:m||"Close",type:0,onClick:function(){return j(Object(o.e)(null))},textStyles:l})]})]})}},384:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a}));var o=n(18),c=function(e){e.stopPropagation(),e.preventDefault()},i=function(e,t){if(o.a){var n,c,i,r=e.getBoundingClientRect().top+(null===(n=window)||void 0===n?void 0:n.scrollY)-(null!==t&&void 0!==t?t:0);null===(c=window)||void 0===c||null===(i=c.scrollTo)||void 0===i||i.call(c,{behavior:"smooth",top:r})}},r=function(e,t){var n=t?"hidden":"",c=t?"visible":"";if(null!=t&&o.a){var i=document.querySelector("body"),r=document.querySelector(e);i&&r&&(i.style.overflowX=n,r.style.overflow=c)}},a=function(e){if(e){var t=null===e||void 0===e?void 0:e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}return!1}},809:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o=function(e){window.hj||(window.hj=Object.assign((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return window.hj.q.push(t)}),{q:[]})),window.hj("event",e)}}}]);